@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Source+Sans+3:wght@300;400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* Vietnamese Calligraphy Studio Palette */
		/* Inspired by son mài (lacquerware), rice paper, and ink brush */

		--background: 42 40% 97%;          /* Rice paper cream */
		--foreground: 20 10% 15%;          /* Ink black, slightly warm */

		--muted: 42 25% 92%;               /* Aged paper */
		--muted-foreground: 20 8% 40%;     /* Faded ink */

		--popover: 42 35% 98%;
		--popover-foreground: 20 10% 15%;

		--card: 42 30% 96%;                /* Soft paper texture feel */
		--card-foreground: 20 10% 15%;

		--border: 42 20% 85%;              /* Subtle paper edge */
		--input: 42 25% 90%;

		--primary: 5 72% 42%;              /* Sơn mai - Vietnamese vermillion lacquer */
		--primary-foreground: 42 40% 97%;

		--secondary: 42 20% 90%;           /* Light bamboo */
		--secondary-foreground: 20 10% 20%;

		--accent: 160 30% 35%;             /* Jade green accent */
		--accent-foreground: 42 40% 97%;

		--destructive: 0 72% 50%;
		--destructive-foreground: 0 0% 98%;

		--ring: 5 72% 42%;                 /* Vermillion focus ring */
		--radius: 0.375rem;

		--sidebar-background: 42 30% 95%;
		--sidebar-foreground: 20 10% 20%;
		--sidebar-primary: 5 72% 42%;
		--sidebar-primary-foreground: 42 40% 97%;
		--sidebar-accent: 42 25% 90%;
		--sidebar-accent-foreground: 20 10% 20%;
		--sidebar-border: 42 20% 85%;
		--sidebar-ring: 5 72% 42%;

		/* Custom Vietnamese coach variables */
		--viet-vermillion: 5 72% 42%;
		--viet-jade: 160 30% 35%;
		--viet-gold: 42 75% 50%;
		--viet-ink: 20 10% 15%;
		--viet-paper: 42 40% 97%;
	}

	.dark {
		--background: 20 15% 8%;            /* Deep lacquer black */
		--foreground: 42 20% 90%;           /* Aged paper in moonlight */

		--muted: 20 12% 15%;
		--muted-foreground: 42 15% 60%;

		--popover: 20 15% 10%;
		--popover-foreground: 42 20% 90%;

		--card: 20 12% 12%;
		--card-foreground: 42 20% 90%;

		--border: 20 10% 20%;
		--input: 20 10% 18%;

		--primary: 5 65% 55%;               /* Brighter vermillion for dark mode */
		--primary-foreground: 20 15% 8%;

		--secondary: 20 10% 18%;
		--secondary-foreground: 42 20% 90%;

		--accent: 160 35% 45%;              /* Lighter jade for visibility */
		--accent-foreground: 20 15% 8%;

		--destructive: 0 62% 45%;
		--destructive-foreground: 0 0% 98%;

		--ring: 5 65% 55%;

		--sidebar-background: 20 12% 10%;
		--sidebar-foreground: 42 20% 90%;
		--sidebar-primary: 5 65% 55%;
		--sidebar-primary-foreground: 20 15% 8%;
		--sidebar-accent: 20 10% 18%;
		--sidebar-accent-foreground: 42 20% 90%;
		--sidebar-border: 20 10% 20%;
		--sidebar-ring: 5 65% 55%;

		--viet-vermillion: 5 65% 55%;
		--viet-jade: 160 35% 45%;
		--viet-gold: 42 70% 55%;
		--viet-ink: 42 20% 90%;
		--viet-paper: 20 15% 8%;
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
		font-family: 'Source Sans 3', system-ui, sans-serif;
	}

	/* Elegant headings with Cormorant Garamond */
	h1, h2, h3, h4, h5, h6 {
		font-family: 'Cormorant Garamond', Georgia, serif;
		font-weight: 500;
		letter-spacing: -0.01em;
	}

	/* Vietnamese text styling - ensure proper diacritic rendering */
	.viet-text {
		font-family: 'Source Sans 3', system-ui, sans-serif;
		line-height: 1.8;
		letter-spacing: 0.02em;
	}
}

@layer components {
	/* Chat bubble styles for the practice interface */
	.chat-bubble-user {
		@apply bg-primary text-primary-foreground;
		border-radius: 1.25rem 1.25rem 0.25rem 1.25rem;
	}

	.chat-bubble-assistant {
		@apply bg-card text-card-foreground border border-border;
		border-radius: 1.25rem 1.25rem 1.25rem 0.25rem;
	}

	/* Calligraphy-inspired decorative elements */
	.ink-stroke {
		background: linear-gradient(
			90deg,
			transparent 0%,
			hsl(var(--viet-ink) / 0.1) 10%,
			hsl(var(--viet-ink) / 0.3) 50%,
			hsl(var(--viet-ink) / 0.1) 90%,
			transparent 100%
		);
		height: 2px;
	}

	/* Topic selection cards */
	.topic-card {
		@apply bg-card border border-border rounded-lg p-4 transition-all duration-200;
		@apply hover:border-primary/50 hover:shadow-sm;
	}

	.topic-card.selected {
		@apply border-primary bg-primary/5;
	}

	/* Difficulty indicator */
	.difficulty-badge {
		@apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
	}

	.difficulty-badge.beginner {
		@apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
	}

	.difficulty-badge.intermediate {
		@apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
	}

	.difficulty-badge.advanced {
		@apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
	}
}

@layer utilities {
	/* Subtle paper texture overlay */
	.paper-texture {
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
	}

	/* Vermillion accent utilities */
	.text-vermillion {
		color: hsl(var(--viet-vermillion));
	}

	.bg-vermillion {
		background-color: hsl(var(--viet-vermillion));
	}

	.text-jade {
		color: hsl(var(--viet-jade));
	}

	.bg-jade {
		background-color: hsl(var(--viet-jade));
	}

	/* Muted/fade text for admin pages */
	.text-fade {
		@apply text-muted-foreground;
	}
}

/* Admin-specific styles (BetterKit compatibility) */
@layer components {
	/* Basic card class for admin pages */
	.card {
		@apply bg-card border border-border rounded-xl;
	}

	.card-ring {
		@apply bg-card border border-border ring-4 ring-muted/50 rounded-xl;
	}

	/* Admin card styles */
	.admin-card {
		@apply border border-border rounded-xl bg-card p-5;
	}

	.admin-card-ring {
		@apply border border-border ring-4 ring-muted rounded-xl bg-card;
	}

	/* Admin button styles */
	.admin-button {
		@apply flex flex-row cursor-pointer rounded-xl items-center transition-all duration-100 text-nowrap font-medium;
	}

	.admin-button:hover {
		@apply transition-all duration-100;
	}

	.admin-button:active {
		@apply scale-95 transition-all duration-50 shadow-none;
	}

	.admin-button.highlight {
		@apply border border-border transition-all duration-100;
	}

	.admin-button.action {
		@apply bg-primary text-primary-foreground;
	}

	.admin-button.danger {
		@apply bg-destructive text-destructive-foreground;
	}

	.admin-button.success {
		@apply bg-green-600 text-white;
	}

	.admin-button.menu {
		@apply hover:bg-muted p-2 gap-2;
	}

	/* Admin badge styles */
	.admin-badge {
		@apply w-fit flex flex-row gap-1 items-center px-2 py-1 text-xs rounded-full;
	}

	.admin-badge.orange {
		@apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
	}

	.admin-badge.bg-success {
		@apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
	}

	.admin-badge.bg-danger {
		@apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
	}

	.admin-badge.bg-warning {
		@apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
	}

	/* Admin navigation styles */
	.admin-nav-links {
		@apply flex flex-col overflow-y-auto overflow-x-hidden gap-1;
	}

	.admin-nav-links > a {
		@apply flex flex-row gap-3 p-3 rounded-xl text-sm font-medium text-foreground/80;
	}

	.admin-nav-links > a:hover {
		@apply bg-muted text-foreground;
	}

	.admin-nav-links > a.active {
		@apply bg-muted text-foreground font-semibold;
	}

	.admin-nav-links > a.disabled {
		@apply opacity-50 pointer-events-none;
	}

	/* Admin input styles */
	.admin-input-container {
		@apply flex flex-col gap-2;
	}

	.admin-input-container > label {
		@apply text-sm font-medium;
	}

	.admin-input-field {
		@apply flex flex-row overflow-hidden shadow-none min-h-10 bg-muted rounded-xl w-full border border-border;
	}

	.admin-input-field:focus-within {
		@apply outline-2 outline-ring outline-offset-2;
	}

	.admin-input-field > input,
	.admin-input-field > textarea {
		all: unset;
		@apply w-full p-2;
	}

	/* BetterKit Badge Compatibility */
	.badge {
		@apply inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full;
	}

	.badge.orange {
		@apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
	}

	.badge.bg-success {
		@apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
	}

	.badge.bg-danger {
		@apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
	}

	.badge.bg-warning {
		@apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
	}

	.badge.bg-secondary-2 {
		@apply bg-muted text-muted-foreground;
	}

	.badge.bg-primary-3 {
		@apply bg-muted text-muted-foreground;
	}

	.badge.bg-primary-accent {
		@apply bg-primary/10 text-primary;
	}

	/* BetterKit Button Compatibility */
	.button {
		@apply inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-colors cursor-pointer;
	}

	.button:hover {
		@apply bg-muted;
	}

	.button.highlight {
		@apply border border-border bg-background hover:bg-muted;
	}

	.button.menu {
		@apply w-full justify-start px-3 py-2 text-sm hover:bg-muted;
	}

	.button.danger {
		@apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
	}

	/* BetterKit Input Compatibility */
	.input-container {
		@apply flex flex-col gap-2;
	}

	.input-field {
		@apply flex flex-row overflow-hidden min-h-10 bg-muted rounded-lg w-full border border-border;
	}

	.input-field:focus-within {
		@apply ring-2 ring-ring ring-offset-2;
	}

	.input-field > input,
	.input-field > textarea {
		all: unset;
		@apply w-full px-3 py-2;
	}
}

/* BetterKit Color Utilities - Maps BetterKit colors to this project's palette */
/* NOTE: Using .bk- prefix to avoid conflicts with Tailwind's built-in primary/secondary colors */
@layer utilities {
	/* Background colors */
	.bg-main {
		@apply bg-background;
	}

	.bk-bg-primary {
		@apply bg-muted;
	}

	.bk-bg-primary-2 {
		@apply bg-muted/50;
	}

	.bk-bg-primary-3 {
		@apply bg-muted;
	}

	.bg-secondary-2 {
		@apply bg-secondary;
	}

	.bg-success {
		@apply bg-green-500;
	}

	.bg-danger {
		@apply bg-red-500;
	}

	/* Text colors */
	.text-main {
		@apply text-background;
	}

	.bk-text-primary {
		@apply text-foreground;
	}

	.text-primary-4 {
		@apply text-muted-foreground;
	}

	.bk-text-secondary {
		@apply text-foreground;
	}

	.text-secondary-4 {
		@apply text-muted-foreground;
	}

	.text-primary-accent {
		color: hsl(var(--primary));
	}

	/* Border colors */
	.bk-border-primary {
		@apply border-border;
	}

	.bk-border-primary-2 {
		@apply border-border/50;
	}

	.bk-border-primary-3 {
		@apply border-border;
	}

	/* Divide colors */
	.divide-primary-2 > :not([hidden]) ~ :not([hidden]) {
		border-color: hsl(var(--border) / 0.5);
	}

	/* Border width utility */
	.border-3 {
		border-width: 3px;
	}

	/* Text size utility */
	.text-xxs {
		font-size: 0.625rem;
		line-height: 0.875rem;
	}

	/* Border left width utility */
	.border-l-1 {
		border-left-width: 1px;
	}

	/* Hover background */
	.hover\:bg-primary-1:hover {
		background-color: hsl(var(--muted) / 0.3);
	}
}
